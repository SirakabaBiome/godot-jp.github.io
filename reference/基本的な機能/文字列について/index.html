<!doctype html><html class=h-100 lang=ja><head><title>Godot Japan User Community</title><meta http-equiv=pragma content="no-cache"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=M+PLUS+1p:wght@300;400;500;700;800;900&family=Noto+Color+Emoji&family=Roboto+Mono&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown-light.css integrity="sha512-1d9gwwC3dNW3O+lGwY8zTQrh08a41Ejci46DdzY1aQbqi/7Qr8Asp4ycWPsoD52tKXKrgu8h/lSpig1aAkvlMw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/style.css></head><body class="d-flex flex-column h-100"><div class="page-content d-flex flex-column w-100 h-100"><nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-gj-dark fs-6 fw-bold"><a class="navbar-brand mx-auto mx-lg-4" href=/><img src=https://godot-jp.github.io/images/GJUC-Logo.svg style=width:100%></a>
<button class="navbar-toggler mx-2" type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class=navbar-nav><li class="nav-item mx-2"><a class=nav-link href=/about>当サイトについて</a></li><li class="nav-item mx-2"><a class=nav-link href=/reference>逆引きリファレンス</a></li></ul></div></nav><section class="container mx-auto w-100 posts" style=margin-top:3rem><div class="bg-light p-0 p-lg-3 m-0 m-lg-3"><div class=row><div id=post class="col col-lg-9 p-3 markdown-body fs-5"><div class=column><p class="display-1 text-center">✒</p><h1 class="text-center fw-bolder border-bottom">文字列について</h1></div><section><h1 id=文字列の基本>文字列の基本</h1><p>文字列は非常に単純なデータ型であり、コピーオンライトという方式が取られています。<br>参照渡しができない型の場合、他の変数に渡すとすぐに複製されますが、Godot Engineの場合、渡された時点では参照渡しであり、変更があった場合に複製されます。<br>つまり、変更がない場合は複製されないのでメモリの節約になります。</p><p>また、Godot Engineでは文字列を加工するメソッドが多数用意されています。</p><h2 id=文字コードについて>文字コードについて</h2><p>Godot EngineはUnicodeをサポートしています。</p><h1 id=文字列の作成方法>文字列の作成方法</h1><p>文字列を作成するには、文字列リテラルを使用し、ダブルクォーテーション<code>""</code>でくくります。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=p>:</span><span class=ne>String</span> <span class=o>=</span> <span class=s2>&#34;あいうえお&#34;</span> <span class=c1># あいうえお</span>
</span></span></code></pre></div><h2 id=文字列の中でダブルクォーテーションを使う>文字列の中でダブルクォーテーションを使う</h2><p>文字列リテラルでダブルクォーテーションを使用しているため、文字列内にダブルクォーテーションを使用することができません。<br>その場合、エスケープ文字を使い、<code>\"</code>と記述します。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=p>:</span><span class=ne>String</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=se>\&#34;</span><span class=s2>かきくけこ</span><span class=se>\&#34;</span><span class=s2>&#34;</span> <span class=c1># &#34;かきくけこ&#34;</span>
</span></span></code></pre></div><h2 id=他の型を文字列に変換する>他の型を文字列に変換する</h2><p>ほとんどの型を<code>String</code>に変換することができますが、<code>String</code>クラスで変換するわけではありません。<br><code>String(100)</code>などとするとエラーが出ます。</p><pre tabindex=0><code>str(100)
var_to_str(100)
</code></pre><h1 id=文字列の処理>文字列の処理</h1><h2 id=文字列を連結する>文字列を連結する</h2><p>連結演算子<code>+</code>または<code>+=</code>を使用して、複数の文字列を連結します。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=p>:</span><span class=ne>String</span> <span class=o>=</span> <span class=s2>&#34;あいう&#34;</span> <span class=o>+</span> <span class=s2>&#34;え&#34;</span> <span class=c1># あいうえ</span>
</span></span><span class=line><span class=cl><span class=n>value</span> <span class=o>+=</span> <span class=s2>&#34;お&#34;</span> <span class=c1># あいうえお</span>
</span></span></code></pre></div><h3 id=他の型と文字列を連結する>他の型と文字列を連結する</h3><p>他の型と連結する場合は、どちらも文字列に揃える必要があります。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=p>:</span><span class=ne>String</span> <span class=o>=</span> <span class=s2>&#34;あいうえお&#34;</span>
</span></span><span class=line><span class=cl><span class=n>value</span> <span class=o>+=</span> <span class=nb>str</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=p>)</span> <span class=c1># あいうえお100</span>
</span></span></code></pre></div><h2 id=文字列同士を比較する>文字列同士を比較する</h2><p>文字列が同じかどうかを比較する場合、<code>==</code>等価演算子を使用することができます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=s2>&#34;あいう&#34;</span> <span class=o>==</span> <span class=s2>&#34;あいう&#34;</span> <span class=c1># true</span>
</span></span></code></pre></div><p>また、文字コードの大小を、<code>&lt;</code>または<code>></code>の比較演算子を使用することで判別できます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value1</span> <span class=o>=</span> <span class=s2>&#34;あ&#34;</span> <span class=o>&lt;</span> <span class=s2>&#34;い&#34;</span> <span class=c1># true</span>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>value2</span> <span class=o>=</span> <span class=s2>&#34;う&#34;</span> <span class=o>&lt;</span> <span class=s2>&#34;い&#34;</span> <span class=c1># false</span>
</span></span></code></pre></div><h2 id=文字列を数える>文字列を数える</h2><p>文字列を数えるメソッドをご紹介します。</p><h3 id=文字列の長さを数える>文字列の長さを数える</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=s2>&#34;あいうえお&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>length</span><span class=p>())</span> <span class=c1># 5</span>
</span></span></code></pre></div><h3 id=文字列の出現回数を数える>文字列の出現回数を数える</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=s2>&#34;ねこねここねこ&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&#34;こ&#34;</span><span class=p>))</span> <span class=c1># 4</span>
</span></span></code></pre></div><p>文字列の途中から、または途中までなどの範囲で探すことも可能です。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=s2>&#34;ねこねここねこ&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&#34;こ&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>))</span> <span class=c1># 2</span>
</span></span></code></pre></div><p>上記の例だと、最初の「ね」は0文字目と扱い、2文字目から5文字目までなので、<br>「ねこ<span style=color:red>ねここ</span>ねこ」の範囲になります。</p><h2 id=文字列を調べる>文字列を調べる</h2><h3 id=文字列が空か調べる>文字列が空か調べる</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value1</span> <span class=o>=</span> <span class=s2>&#34;あいうえお&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value1</span><span class=o>.</span><span class=n>empty</span><span class=p>())</span> <span class=c1># false</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>var</span> <span class=n>value2</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value2</span><span class=o>.</span><span class=n>empty</span><span class=p>())</span> <span class=c1># true</span>
</span></span></code></pre></div><h3 id=文字列が特定の文字で始まるか調べる>文字列が特定の文字で始まるか調べる</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=s2>&#34;あいうえお&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>begin_with</span><span class=p>(</span><span class=s2>&#34;あ&#34;</span><span class=p>))</span> <span class=c1># true</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>begin_with</span><span class=p>(</span><span class=s2>&#34;お&#34;</span><span class=p>))</span> <span class=c1># false</span>
</span></span></code></pre></div><h3 id=文字列が特定の文字で終わるか調べる>文字列が特定の文字で終わるか調べる</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript data-lang=gdscript><span class=line><span class=cl><span class=k>var</span> <span class=n>value</span> <span class=o>=</span> <span class=s2>&#34;あいうえお&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>extends_with</span><span class=p>(</span><span class=s2>&#34;あ&#34;</span><span class=p>))</span> <span class=c1># false</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>extends_with</span><span class=p>(</span><span class=s2>&#34;お&#34;</span><span class=p>))</span> <span class=c1># true</span>
</span></span></code></pre></div></section></div><div class="col-3 p-3 column d-none d-lg-block"><div class=sticky-top style=top:100px><div class=mb-3><h4>目次</h4><nav id=TableOfContents><ul><li><a href=#文字列の基本>文字列の基本</a><ul><li><a href=#文字コードについて>文字コードについて</a></li></ul></li><li><a href=#文字列の作成方法>文字列の作成方法</a><ul><li><a href=#文字列の中でダブルクォーテーションを使う>文字列の中でダブルクォーテーションを使う</a></li><li><a href=#他の型を文字列に変換する>他の型を文字列に変換する</a></li></ul></li><li><a href=#文字列の処理>文字列の処理</a><ul><li><a href=#文字列を連結する>文字列を連結する</a></li><li><a href=#文字列同士を比較する>文字列同士を比較する</a></li><li><a href=#文字列を数える>文字列を数える</a></li><li><a href=#文字列を調べる>文字列を調べる</a></li></ul></li></ul></nav></div><div>文字の大きさ<div class="row my-3 d-flex justify-content-center align-items-center align-items-end text-center"><a href=javascript:togglesize(2) class="font-size-icons col-auto fs-4">大</a>
<a href=javascript:togglesize(1) class="font-size-icons col-auto fs-5 font-size-icons-active">中</a>
<a href=javascript:togglesize(0) class="font-size-icons col-auto fs-6">小</a></div></div><div class="post-meta col text-center"><div class="row justify-content-center align-items-center text-center"><div class="col-auto justify-content-center align-items-center text-center"><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class=twitter-share-button data-size=large data-show-count=false>Tweet</a>
<script async src=https://platform.twitter.com/widgets.js></script></div><div class="col-auto text-center mt-2"><a href=https://github.com/godot-jp/godot-jp/issues class="rounded-10 py-1 mb-3 btn bg-gj-light-dark
row justify-content-center align-items-center" style=font-size:62% target=_blank rel="noopener noreferrer"><img src=/images/Github-Icon.svg class=col-auto style="padding:0 4px 3px 0;width:20px">
Issues</a></div></div></div></div></div></div></div><script lang=javascript>let elm=document.getElementById("post"),icons=document.getElementsByClassName("font-size-icons");function togglesize(e){var t=["fs-6","fs-5","fs-4"];elm.classList.remove("fs-6","fs-5","fs-4"),elm.classList.add(t[e]);for(let e of icons)e.classList.remove("font-size-icons-active");let n=icons[Math.abs(e-icons.length)-1];n.classList.add("font-size-icons-active")}</script></section><div id=footer class="mt-auto w-100"><div class="row bg-dark mx-0 py-2 justify-content-center align-items-center"><div class="text-center fs-6 col-auto">© 2022 Saitos and Contributors. Website source code and on <a href=https://github.com/godot-jp/godot-jp>Github.</a></div><div class="text-left mt-0 fs-6 col-auto row no-gutters"><a class="px-1 col-auto" href=https://github.com/godot-jp/><img src=/images/Github-Icon.svg height=20px></a>
<a class="px-1 col-auto" href=https://discord.gg/DyFvSJZ><img src=/images/Discord-Icon.svg height=20px></a></div></div></div><script src=/js/bootstrap.min.js></script></body></html>